
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en-US"><!--<![endif]-->
<head>
  <meta charset="utf-8" />

  <title>MiXX.PostIcon Released to the Public - Eric Duncan</title>
  <meta name="author" content="Eric Duncan" />
  <meta name="description" content="Dec 11th, 2006 by Eric Duncan in archives MiXX.PostIcon Released to the Public Please note that this post was migrated to my new blog platform. &hellip;" />
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta property="og:site_name" content="Eric Duncan" />
  <meta property="og:type" content="article" />

  <link rel="canonical" href="http://eduncan911.com/blog/archives/mixx-posticon-released-to-the-public.html" />
  <link rel="alternate" href="/atom.xml" title="Eric Duncan" type="application/atom+xml" />
  <link rel="shortcut icon" href="/favicon.png" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" type="text/css" />
  <link rel="stylesheet" href="/stylesheets/screen.css" media="screen, projection" type="text/css" />
  <style type="text/css">
    header .blog-title a, header .blog-description { 
      color: #ffffff; 
      text-transform: lowercase;
    } 
  </style>

  <script src="/javascripts/modernizr-2.0.js"></script>

</head>
<body class="home blog">

  <header id="masthead" role="banner" class="site-head site-header">
    <div class="vertical" itemscope itemtype="http://schema.org/Article">
      <div class="site-head-content inner" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <h1 class="blog-title" itemprop="name"><a class="blog-logo" href='/' rel='home'>Eric Duncan</a></h1>
        <h2 class="blog-description" itemprop="jobtitle">spawning a race of beings</h2>
        <meta itemprop="givenname" content="Eric" />
        <meta itemprop="familyname" content="Duncan" />
        <meta itemprop="affiliation" content="eduncan911" />
        <meta itemprop="jobtitle" content="Software Architect" />
      </div>
    </div>
  </header>

  <main id="content" class="content" role="main">
    <article class="post type-post status-publish format-standard hentry category-schweeeet" itemscope itemtype="http://schema.org/Article">
            <header class="post-header">   
        <span class="post-meta">
          <span class="posted-on"><time class="entry-date published date updated" datetime="2006-12-11T05:48:00-05:00" content="2006-12-11T05:48:00-05:00" itemprop="datePublished">Dec 11<span>th</span>, 2006</time></span>
          <span class="byline"> by <span class="author vcard"><a class="url fn n" href="https://plus.google.com/+EricDuncan911?rel=author">Eric Duncan</a></span></span>
          in <a class='category' href='/category/archives/' rel='category tag'>archives</a>
        </span>
        <h1 class="post-title entry-title" itemprop="name"><a href="" rel="bookmark">MiXX.PostIcon Released to the Public</a></h1>
        <meta itemprop="url" content="" />
      </header>
      <section class="post-content" itemprop="articleBody">

<!-- BEGIN MARKDOWN CONTENT: I can't control the formatting here, bleh -->      

<!-- more -->


<blockquote><p>Please note that this post was migrated to my new blog platform. There may be bad formating, broken links, images, downloads and so on.  If you need an item on this page, please contact me and I will do my best to get it from my backups.</p><footer><strong>~E</strong></footer></blockquote>


<P mce_keep="true"><STRONG>EDIT 6/05/2007: Changed links to CS 3.0 version.&nbsp; Subscribe to here for updates: </STRONG><A href="/archive/tags/The+MiXX+Collection/default.aspx"><STRONG>/archive/tags/The+MiXX+Collection/default.aspx</STRONG></A></P>


<P mce_keep="true">&nbsp;</P>


<P mce_keep="true">Some of you might have noticed my new homepage over the last month.&nbsp; Those of you using an RSS reader to read this, go check out my homepage for the new PostIcon module I&#8217;m talking about.</P>


<P><A href="/files/folders/5894/download.aspx"></A></P>


<p><STRONG>What is it?<BR></STRONG>The purpose of this Server Control and CSModule is to automatically<BR>create a small lightweight PostIcon with little to no work on your part.<BR>Just embed a normal image, bam, you have a PostIcon automatically.</p>

<P>This module creates the PostIcon for a Weblog Post during its creation <BR>and/or update physically on disk. It will connect to your image source, <BR>load into memory, crop, resize, compress, and save the tiny ~2 KB file <BR>to disk. It then adds the full pathname to an ExtendedAttribute for that<BR>post called &#8220;PostIcon&#8221;, allowing for the skin to render where required. <BR>This storage-to-disk method greatly speeds up the homepage rendering as <BR>we do not access the photo gallery.</P>


<P>To use, simply create a blog post with at least one &lt;img&gt; embedded.&nbsp; <BR>That&#8217;s it.&nbsp; The default logic above will take the first &lt;img&gt; in your<BR>post and process it to disk.</P>


<P>Optionally, you can specify a particular image to use as your PostIcon.<BR>Say if you had multple embedded &lt;img&gt;s, or if you don&#8217;t have an image at<BR>all but wanted a PostIcon for the post. </P>


<P>You can use the BBCode format of:</P>


<P>&nbsp;<img alt='MiXX.PostIcon released to the public' src='http://domain.com/image.gif'/></P>


<P>This will allow you to specify an Anchor position, if you want to crop<BR>in a certain region.&nbsp; The Anchor attribute is optional.&nbsp; See the<BR>module&#8217;s config file for more information on Anchor.</P>


<P><STRONG>How does it work?</STRONG><BR>There are two parts to make this work.&nbsp; The backend uses the PostIconModule&nbsp;to download into memory, crop, resize, compress, and save the selected image to disk.</P>


<P>And the frontend UI uses the PostIcon server control to rendered the saved image, with smart logic.</P>


<P><STRONG>What is the logic to determine what gets downloaded, cropped, and saved or even displayed if none is set?<BR></STRONG>There are two methods of logic.&nbsp; The first is which image, if any at all, is processed on the initial PostCreation process.&nbsp; And the other logic is in the PostIcon server control that renders, if there is no image saved from the module.</P>


<P>The PostIconModule determines what url gets written to the post, if any.&nbsp; It does this by following the order below:</P>


<OL>
<LI>Does the <img alt='MiXX.PostIcon released to the public' src=' BBCode exist?&nbsp;If so, parse the image specified.</LI>
<LI>Is there an &lt;img&gt; declaration somewhere in the post?&nbsp; If so, parse the first &lt;img&gt; and use it as the PostIcon.</LI></OL>


<P>If the PostIconModule fails to parse the image, no url is written.&nbsp; In which case, the PostIcon server control determines what gets displayed with the logic below:</P>


<OL>
<LI>Is there a DefaultImageUrl specified?&nbsp; If so, link directly to it.</LI>
<LI>Is the UseAnonymousAvatar set to true?&nbsp; If so, link directly to it.</LI></OL>


<P><STRONG>Why are you saving to disk and writing a direct url?&nbsp; Isn&#8217;t the Photo Gallery built for that?</STRONG><BR>Yes, it is but&nbsp; I wanted speed on my homepage.&nbsp; And loading the Weblog posts + 20 to 50 images on the homepage is a bit more processing then I care for.</P>


<P>So with the PostIconModule I load the image into a MemoryStream, crop the image based on the Anchor set, resize the image to what is specified in the config, compress it as a JPG (tests showed 60% quality compared to Gif 89a and PNG is smaller then all), and finally save it to disk.&nbsp;</P>


<P>The PostIcon server control loads only the direct Url that is stored for the post, therefore generating a very quick homepage load time.</P>


<P><STRONG>Where&#8217;s the source code?</STRONG><BR>With the rest of the files below.</P>


<P><STRONG>Where do I get this wonderful tool?</STRONG><BR>Here ya go:</P>


<P>(install only)<BR><A href="/files/folders/2611/download.aspx">/files/folders/2611/download.aspx</A><A href="/Downloads/MiXXCollection-CS30-v1.0.zip"></A></P>


<P>(source code-must compile)<BR><A href="/files/folders/5894/download.aspx">/files/folders/5894/download.aspx</A></P>


<P mce_keep="true">&nbsp;</P>


<P><STRONG>Future Releases<BR></STRONG>If by popular demand, I might add in rendering of the User&#8217;s Avatar if multiple people are posting to a single blog.&nbsp; But since this is rare, I skipped it for now.</P>


<P>Also if by popular demand, I may add in some type of Email detection (i.e. MetaBlog API posts) and display a custom image (if the image logic fails to save one).&nbsp; For example, I might want to display a common PostIcon for all posts <A class="" href="http://www.blogmailr.com/blog/archive/2006/11/07/blogmailr-com-is-live.aspx" target=_blank mce_href="http://www.blogmailr.com/blog/archive/2006/11/07/blogmailr-com-is-live.aspx">made by Blogmailr</A>.&nbsp; Such as this one:</P>


<P><IMG src="http://www.interest.co.nz/images/email-icon.gif" mce_src="http://www.interest.co.nz/images/email-icon.gif"> </P>


<p><img alt='MiXX.PostIcon released to the public' src='http://ec2.images-amazon.com/images/P/B000JK8OYU.01._AA240_SCLZZZZZZZ_V34638512_.jpg'/></p>


<!-- END MARKDOWN CONTENT -->

      </section>

      <section class="collapsable history">
        <h5><a class="collapsable-trigger" href="#">&gt; Revision History</a></h5>
        <ul class="post-metadata"><li><strong>Wed Apr 9 20:49:43 2014</strong><br/>imported into new blog platform
</li></ul><p class="post-metadata">View on <a href=https://github.com/eduncan911/eduncan911.github.io/commits/source/source/_posts/2006-12-11-mixx-posticon-released-to-the-public.markdown target=_blank>Github</a></p>
      </section>

      <section class="collapsable author">
        <h5><a class="collapsable-trigger" href="#">&gt; About the author</a></h5>
        <p class="post-metadata">Eric has been in a wide variety of software development roles with 18+ years experience developing and managing technologies for several industries such as prepaid card services, advertising, legal and manufacturing. He is a pioneer of open-sourced social networking and communication solutions.</p>
      </section>

      <!-- <section class="collapsable author">
        <h5><a class="collapsable-trigger" href="#">&gt; Related Posts</a></h5>
        <p class="post-metadata">(coming soon)</p>
      </section> -->
      <nav class="pagination navigation paging-navigation" role="navigation">
        <div class="nav-links">
          <div class="older-posts"><a href="/blog/archives/laughfactory-launch.html" title="Previous Post: Hooray!!  I saw *******">&laquo; Hooray!!  I saw *******</a></div>
          <div class="newer-posts"><a href="/blog/archives/the-mixx-collection.html" title="Next Post: The MiXX Collection for Community Server">The MiXX Collection for Community Server &raquo;</a></div>
        </div>
      </nav>
      <div class="clear"></div>

      <section class="post-comment">
        <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
      </section>

    </article>
  </main>

  <footer id="colophon" class="site-footer" role="contentinfo">
    <a class="subscribe icon-feed" href="/atom.xml"><span class="tooltip">Subscribe!</span></a>
    <div><a href="/blog/archives">Archives</a></div>
    <div><a href="/contact">Contact Me</a></div>
    <div><a href="/buymeabeer">Buy Me a Beer</a></div>
    <div><a href="/blogtegrity">Blogtegrity</a></div>
    <div><a href="/privacy">Privacy</a></div>
    <div>&nbsp;</div>
    <div class="site-info inner"><section class="copyright">© 2014 Eric Duncan <a href="http://creativecommons.org/licenses/by/2.5/">CC BY 2.5</a></section></div>
    <div>a <a href="http://www.forgetfoo.me/" title="one of a 100 kickass designs by this guy">forgetfoo</a> design</div>
  </footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script type='text/javascript' src='/javascripts/foo.casper.js?ver=20140422'></script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-3705711-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

  <script type="text/javascript">
    var disqus_shortname = 'eduncan911com';
    
      
      // var disqus_developer = 1;
      var disqus_identifier = 'http://eduncan911.com/blog/archives/mixx-posticon-released-to-the-public.html';
      var disqus_url = 'http://eduncan911.com/blog/archives/mixx-posticon-released-to-the-public.html';
      var disqus_script = 'embed.js';
    
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
  </script>




</body>
</html>
